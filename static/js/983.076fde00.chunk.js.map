{"version":3,"file":"static/js/983.076fde00.chunk.js","mappings":"mMACA,EAAgC,6B,oBCUnBA,EAA6B,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,SAAUC,EAAiB,EAAjBA,WACrD,OACE,SAAC,KAAD,CACEC,cAAe,CACbC,MAAO,GACPC,SAAU,GACVC,YAAY,EACZC,QAAS,IAEXC,SAAU,SAACC,GACT,IAAMC,EAAgD,GAYtD,OAVKD,EAAOL,MAEA,2CAA2CO,KAAKF,EAAOL,SACjEM,EAAON,MAAQ,yBAFfM,EAAON,MAAQ,WAKbK,EAAOJ,SAASO,OAAS,IAC3BF,EAAOL,SAAW,mBAGbK,GAETT,SAAU,SAACQ,EAAQI,GACjBZ,EAASQ,EAAQI,EAAYC,YAvBjC,SAyBG,cAAGC,aAAH,IAAiBL,EAAjB,EAAiBA,OAAQM,EAAzB,EAAyBA,QAASC,EAAlC,EAAkCA,OAAlC,OACC,UAAC,KAAD,YACE,4BACE,SAAC,KAAD,CAAOC,KAAK,QAAQC,KAAK,QAAQC,YAAY,QAAQC,cAAc,QAClEX,EAAON,OAASY,EAAQZ,OAASM,EAAON,UAG3C,4BACE,SAAC,KAAD,CAAOc,KAAK,WAAWC,KAAK,WAAWC,YAAY,aAClDV,EAAOL,UAAYW,EAAQX,UAAYK,EAAOL,aAGjD,8BACE,SAAC,KAAD,CAAOa,KAAK,WAAWC,KAAK,eAD9B,kBAIA,mBAAQD,KAAK,SAAb,qBACA,uBAAID,GAAUA,EAAOK,MAAM,KAC1BpB,IACC,4BACE,gBAAKqB,IAAKrB,KACV,8BACE,SAAC,KAAD,CAAOgB,KAAK,OAAOC,KAAK,UAAUK,UAAQ,IAD5C,uB,4BC5CDC,EAAwB,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,OAAQzB,EAAiB,EAAjBA,WAKrD,OAAIyB,GACK,SAAC,KAAD,CAAUC,GAAI,cAIrB,iBAAKC,UAAWC,EAAhB,WACE,mCAEA,SAAC9B,EAAD,CAAaC,SAZA,SAACQ,EAAsBK,GACtCY,EAAMjB,EAAQK,IAWqBZ,WAAYA,QAcnD,GAAe6B,EAAAA,EAAAA,KALS,SAACC,GAAD,MAA0B,CAChD9B,WAAY8B,EAAMC,KAAK/B,WACvByB,OAAQK,EAAMC,KAAKN,UAGmB,CACtCD,MAAAA,EAAAA,IADF,CAEGD","sources":["webpack://samurai-way/./src/components/Login/Login.module.css?0ede","components/Login/LoginFormik.tsx","components/Login/Login.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"login-section\":\"Login_login-section__Wp+hz\",\"form\":\"Login_form__lMM6E\"};","import { Field, Form, Formik } from 'formik'\nimport React, { FC } from 'react'\nimport { FormDataType } from './Login'\n\nexport type SetStatus = (status?: any) => void\n\ntype PropsType = {\n  onSubmit: (value: FormDataType, setStatus: SetStatus) => void\n  captchaUrl?: string | null\n}\n\nexport const LoginFormik: FC<PropsType> = ({ onSubmit, captchaUrl }) => {\n  return (\n    <Formik\n      initialValues={{\n        email: '',\n        password: '',\n        rememberMe: false,\n        captcha: '',\n      }}\n      validate={(values) => {\n        const errors: { email?: string; password?: string } = {}\n\n        if (!values.email) {\n          errors.email = 'Required'\n        } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n          errors.email = 'Invalid email address'\n        }\n\n        if (values.password.length < 4) {\n          errors.password = 'Min length is 4'\n        }\n\n        return errors\n      }}\n      onSubmit={(values, submitProps) => {\n        onSubmit(values, submitProps.setStatus)\n      }}>\n      {({ isSubmitting, errors, touched, status }) => (\n        <Form>\n          <div>\n            <Field type=\"email\" name=\"email\" placeholder=\"email\" autocompleted=\"off\" />\n            {errors.email && touched.email && errors.email}\n          </div>\n\n          <div>\n            <Field type=\"password\" name=\"password\" placeholder=\"password\" />\n            {errors.password && touched.password && errors.password}\n          </div>\n\n          <label>\n            <Field type=\"checkbox\" name=\"rememberMe\" />\n            Remember me\n          </label>\n          <button type=\"submit\">Submit</button>\n          <p>{status && status.error[0]}</p>\n          {captchaUrl && (\n            <div>\n              <img src={captchaUrl} />\n              <label>\n                <Field type=\"text\" name=\"captcha\" required />\n                Captcha\n              </label>\n            </div>\n          )}\n        </Form>\n      )}\n    </Formik>\n  )\n}\n","import React, { FC } from 'react'\nimport style from './Login.module.css'\nimport { LoginFormik, SetStatus } from './LoginFormik'\nimport { connect } from 'react-redux'\nimport { login } from '../../redux/auth-reducer'\nimport { AppStateType } from '../../redux/store'\nimport { Redirect } from 'react-router-dom'\n\nexport type FormDataType = {\n  email: string\n  password: string\n  rememberMe: boolean\n  captcha?: string\n}\n\nexport const Login: FC<LoginProps> = ({ login, isAuth, captchaUrl }) => {\n  const onSubmit = (values: FormDataType, setStatus: SetStatus) => {\n    login(values, setStatus)\n  }\n\n  if (isAuth) {\n    return <Redirect to={'/profile'} />\n  }\n\n  return (\n    <div className={style['login-section']}>\n      <h1>Login</h1>\n\n      <LoginFormik onSubmit={onSubmit} captchaUrl={captchaUrl} />\n    </div>\n  )\n}\n\ntype LoginProps = {\n  login: (param: FormDataType, setStatus: any) => void\n} & ReturnType<typeof mapStateToProps>\n\nconst mapStateToProps = (state: AppStateType) => ({\n  captchaUrl: state.auth.captchaUrl,\n  isAuth: state.auth.isAuth,\n})\n\nexport default connect(mapStateToProps, {\n  login,\n})(Login)\n"],"names":["LoginFormik","onSubmit","captchaUrl","initialValues","email","password","rememberMe","captcha","validate","values","errors","test","length","submitProps","setStatus","isSubmitting","touched","status","type","name","placeholder","autocompleted","error","src","required","Login","login","isAuth","to","className","style","connect","state","auth"],"sourceRoot":""}