"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[486],{7486:function(e,t,s){s.r(t),s.d(t,{default:function(){return z}});var i=s(8683),o=s(5671),r=s(3144),n=s(136),a=s(5716),l=s(8381);var u=s(181);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var i,o,r=[],n=!0,a=!1;try{for(s=s.call(e);!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(l){a=!0,o=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}}(e,t)||(0,u.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d="ProfileInfo_profile__a3YBC",f="ProfileInfo_profile-header__A0fJE",p="ProfileInfo_description__qJ90f",h="ProfileInfo_name__27joL",x="ProfileInfo_photo__VwEQK",j="ProfileInfo_contacts__N8LSt",v="ProfileInfo_contacts-list__PEvVF",m="ProfileInfo_title__GfLC2",g="ProfileInfo_characteristics__J1wHn",b=s(6017),P=s(4943),_=s(9343),k=function(e){var t=c((0,l.useState)(!1),2),s=t[0],i=t[1],o=c((0,l.useState)(e.status),2),r=o[0],n=o[1];return(0,_.jsxs)("div",{children:[!s&&(0,_.jsx)("div",{children:(0,_.jsx)("span",{onClick:function(){i(!0)},children:e.status?e.status:"empty status"})}),s&&(0,_.jsx)("div",{children:(0,_.jsx)("input",{onBlur:function(){i(!1),e.updateStatus(r)},value:r,autoFocus:!0,onChange:function(e){n(e.currentTarget.value)}})})]})},y=s(5783),N=function(e){var t=e.profile,s=e.saveProfile,o=e.inactiveEditMode,r=(0,i.Z)({},t.contacts);return(0,_.jsx)(y.J9,{initialValues:{fullName:t.fullName,lookingForAJOB:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,aboutMe:t.aboutMe,contacts:(0,i.Z)({},r)},validate:function(e){},onSubmit:function(e,t){s(e,t.setStatus).then((function(e){o()}))},children:function(e){var s=e.errors,i=e.handleChange,o=e.touched,r=e.status,n=e.values;return(0,_.jsxs)(y.l0,{children:[(0,_.jsx)("button",{children:"save"}),(0,_.jsxs)("div",{children:[(0,_.jsx)("b",{children:"Full name"}),":",(0,_.jsx)(y.gN,{type:"text",name:"fullName",autocompleted:"off"}),s.fullName&&o.fullName&&s.fullName]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("b",{children:"Looking for a job"}),":",(0,_.jsx)(y.gN,{type:"checkbox",name:"lookingForAJOB",autocompleted:"off"}),s.lookingForAJOB&&o.lookingForAJOB&&s.lookingForAJOB]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("b",{children:"Skills"}),":",(0,_.jsx)(y.gN,{type:"text",name:"lookingForAJobDescription",autocompleted:"off"}),s.lookingForAJobDescription&&o.lookingForAJobDescription&&s.lookingForAJobDescription]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("b",{children:"About me"}),":",(0,_.jsx)(y.gN,{type:"text",name:"aboutMe",autocompleted:"off"}),s.aboutMe&&o.aboutMe&&s.aboutMe]}),(0,_.jsxs)("div",{className:j,children:[(0,_.jsx)("h3",{className:m,children:"Contacts"}),(0,_.jsx)("ul",{className:v,children:Object.entries(t.contacts).map((function(e,t){var s=c(e,2),o=s[0];s[1];return(0,_.jsxs)("div",{children:[(0,_.jsx)("b",{children:o}),":",(0,_.jsx)("input",{id:"title",name:"contacts.".concat(o),type:"text",onChange:i,value:n.contacts[o]||""})]},t)}))})]}),(0,_.jsx)("p",{children:r&&r.error[0]})]})}})},S=function(e){var t=c((0,l.useState)(!1),2),s=t[0],i=t[1];if(!e.profile)return(0,_.jsx)(b.a,{});return(0,_.jsxs)("div",{className:d,children:[(0,_.jsx)("div",{className:f,children:(0,_.jsx)("img",{src:"https://efi.int/sites/default/files/2020-12/placeholder.jpeg",alt:"",width:"1000",height:"400"})}),(0,_.jsxs)("div",{className:p,children:[(0,_.jsx)("div",{className:x,children:(0,_.jsx)("img",{src:e.profile.photos.large||P,alt:"user"})}),e.isOwner&&(0,_.jsx)("input",{type:"file",onChange:function(t){var s;null!==(s=t.currentTarget.files)&&void 0!==s&&s.length&&e.savePhoto(t.currentTarget.files[0])}}),(0,_.jsx)("b",{className:h,children:e.profile.fullName}),(0,_.jsx)("p",{children:e.profile.aboutMe}),(0,_.jsx)(k,{status:e.status,updateStatus:e.updateStatus,id:e.profile.userId})]}),s?(0,_.jsx)(N,{profile:e.profile,saveProfile:e.saveProfile,inactiveEditMode:function(){return i(!1)}}):(0,_.jsx)(J,{profile:e.profile,isOwner:e.isOwner,activeEditMode:function(){return i(!0)}})]})},w=function(e){var t=e.title,s=e.link;return(0,_.jsx)("li",{children:(0,_.jsx)("a",{href:s,children:t})})},J=function(e){var t=e.profile,s=e.isOwner,i=e.activeEditMode;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:g,children:[s&&(0,_.jsx)("button",{onClick:i,children:"edit"}),(0,_.jsxs)("div",{children:[(0,_.jsx)("b",{children:"Full name"}),": ",t.fullName]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("b",{children:"Skills"}),": ",t.lookingForAJobDescription]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("b",{children:"About me"}),": ",t.aboutMe]})]}),(0,_.jsxs)("div",{className:j,children:[(0,_.jsx)("h3",{className:m,children:"Contacts"}),(0,_.jsx)("ul",{className:v,children:Object.entries(t.contacts).map((function(e,t){var s=c(e,2),i=s[0],o=s[1];return(0,_.jsx)(w,{title:i,link:o},t)}))})]})]})},A=s(1378),F=s(440),I="MyPosts_posts-box__HQBqi",C="MyPosts_posts__Ttuld",M=s(5987),O="Post_item__2ddcJ",T=["message","likesCount"],E=function(e){var t=e.message,s=e.likesCount,i=(0,M.Z)(e,T);return(0,_.jsxs)("div",{className:O,id:String(i.id),children:[(0,_.jsx)("img",{src:"//unsplash.it/50/50",alt:"avatar"}),(0,_.jsx)("p",{children:t}),(0,_.jsx)("span",{children:"like "}),s]})},Z=(0,l.memo)((function(e){var t=e.posts.map((function(e){return(0,_.jsx)(E,{message:e.message,likesCount:e.likesCount,id:e.id},e.id)}));return(0,_.jsxs)("div",{className:I,children:[(0,_.jsx)("h3",{children:"posts"}),(0,_.jsx)("div",{children:(0,_.jsx)(B,{onSubmit:function(t){e.addPost(t.newPostText)}})}),(0,_.jsx)("div",{className:C,children:t})]})})),B=function(e){return(0,_.jsx)(y.J9,{initialValues:{newPostText:""},validate:function(e){var t={};return e.newPostText||(t.newPostText="Required"),t},onSubmit:function(t,s){var i=s.setSubmitting;console.log(t),e.onSubmit(t),i(!1)},children:function(e){var t=e.isSubmitting,s=e.errors,i=e.touched;return(0,_.jsxs)(y.l0,{children:[(0,_.jsx)("div",{children:(0,_.jsx)("div",{children:(0,_.jsx)(y.gN,{component:"textarea",name:"newPostText",placeholder:"Enter your post..."})})}),s.newPostText&&i.newPostText&&s.newPostText,(0,_.jsx)("button",{type:"submit",disabled:t,children:"Add post"})]})}})},D=(0,F.$j)((function(e){return{posts:e.profilePage.posts,profile:e.profilePage.profile,status:e.profilePage.status}}),{addPost:A.q2})(Z),q=function(e){return(0,_.jsxs)("div",{children:[(0,_.jsx)(S,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),(0,_.jsx)(D,{})]})},L=s(104),U=s(4479),V=function(e){(0,n.Z)(s,e);var t=(0,a.Z)(s);function s(){return(0,o.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),e||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,_.jsx)(q,(0,i.Z)((0,i.Z)({},this.props),{},{isOwner:!Boolean(this.props.match.params.userId),profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(l.Component),z=(0,U.qC)((0,F.$j)((function(e){return{profile:e.profilePage.profile,posts:e.profilePage.posts,status:e.profilePage.status,authorizedUserId:e.auth.id}}),{getUserProfile:A.et,getStatus:A.lR,updateStatus:A.Nf,savePhoto:A.Ju,saveProfile:A.Ii}),L.EN)(V)}}]);
//# sourceMappingURL=486.93459e64.chunk.js.map